export TERM="xterm-256color"

#キーバインドをviモードに
bindkey -v
#補完機能を有効にする
autoload -U compinit; compinit
#補完一覧を表示
setopt auto_list
#補完キー連打で次の候補へ
setopt auto_menu
# 補完時に大文字小文字を区別しない
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}'
##cdの入力を省略
setopt auto_cd
#ディレクトリストックに追加する
setopt auto_pushd
#ダブっているディレクトリストックを記録しない
setopt hist_ignore_all_dups
#ビープ音を鳴らさない
setopt no_beep
#スペル訂正
setopt correct

source ~/.zplug/init.zsh || { git clone https://github.com/b4b4r07/zplug.git ~/.zplug && source ~/.zplug/init.zsh }

zplug 'b4b4r07/zplug', at:v2
zplug 'bhilburn/powerlevel9k', use:powerlevel9k.zsh-theme


source ~/.zplug/repos/bhilburn/powerlevel9k/powerlevel9k.zsh-theme
ZSH_THEME="powerlevel9k/powerlevel9k"

if [ -z "$TMUX" ]; then
  if $(tmux has-session); then
    echo "Do you want to attaach the session? (Y/n)"
    read ANSWER
    case $ANSWER in
      "" | "Y" | "y" | "yes" | "Yes" | "YES" )
        echo "attach the session."
        ID="`tmux list-sessions`"
        ID="`echo $ID | fzf -m | cut -d: -f1`"
        tmux attach-session -t "$ID";;

      * ) echo "";;
    esac
  else
    tmux
  fi
fi
